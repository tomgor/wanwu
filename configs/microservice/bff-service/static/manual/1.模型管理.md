# æ¨¡å‹ç®¡ç†

ç”¨æˆ·å¯é€šè¿‡é…ç½®ï¼Œåœ¨å¹³å°ä¸­æ¥å…¥å¤–éƒ¨æ¨¡å‹ã€‚æ ¹æ®æ¨¡å‹ä¾›åº”å•†è§„èŒƒï¼Œå…³è”æ¨ç†urlã€‚æ”¯æŒå¯¼å…¥çš„æ¨¡å‹åŒ…æ‹¬LLMã€Embeddingã€Rerankã€OCRï¼Œå¼€å¯æœåŠ¡åï¼Œå¯ç”¨äºæ¨¡å‹æ¨ç†ã€‚å…·ä½“å¯¼å…¥æ–¹å¼ï¼Œè¯¦è§[æ¨¡å‹å¯¼å…¥æ–¹å¼-è¯¦ç»†ç‰ˆ](æ¨¡å‹å¯¼å…¥æ–¹å¼-è¯¦ç»†ç‰ˆ.md)

![image-20250904111744304](assets/image-20250904111744304.png)

![image-20250826175321824](assets/image-20250826175321824.png)

![image-20250725144758884](assets/image-20250725144758884.png)



# APIå‚è€ƒ

## LLM

### OpenAI-API- compatible

**è¯·æ±‚**

```bash
curl --location 'URL' \
--header 'Content-Type: application/json' \
--header 'Authorization: Bearer api-key' \
--data '{
    "messages": [
        {
            "role": "user",
            "content": "ä½ æ˜¯è°"
        }
    ],
    "model": "gpt-oss-20b",
    "stream": false
}'
```

**å“åº”**

éæµå¼å“åº”

```bash
{
    "id": "chatcmpl-ec8ed5bef88849c4ab3147f650b3d3ec",
    "object": "chat.completion",
    "created": 1754964185,
    "model": "gpt-oss-20b",
    "choices": [
        {
            "index": 0,
            "message": {
                "role": "assistant",
                "content": "æ‚¨å¥½ï¼  \næˆ‘æ˜¯ ChatGPTï¼ŒOpenAI ç ”å‘çš„äººå·¥æ™ºèƒ½è¯­è¨€æ¨¡å‹ï¼Œèƒ½å¤Ÿæ ¹æ®è¾“å…¥çš„æ–‡æœ¬è¿›è¡Œå¯¹è¯ã€å›ç­”é—®é¢˜ã€æä¾›å»ºè®®ã€æ’°å†™æ–‡ç« ç­‰ã€‚æ‚¨æœ‰ä»€ä¹ˆæƒ³èŠæˆ–è€…æƒ³äº†è§£çš„ï¼Œå°½ç®¡å‘Šè¯‰æˆ‘å§ï¼",
                "tool_calls": []
            },
            "finish_reason": "stop"
        }
    ],
    "usage": {
        "prompt_tokens": 73,
        "completion_tokens": 179,
        "total_tokens": 252
    }
}
```

æµå¼å“åº”

```bash
{
    "id": "endpoint_common_250891",
    "object": "chat.completion.chunk",
    "created": 1754964492,
    "model": "deepseek-r1",
    "choices": [
        {
            "index": 0,
            "delta": {
                "role": "assistant",
                "content": "å—"
            },
            "finish_reason": null
        }
    ]
}
```



### è”é€šå…ƒæ™¯

**è¯·æ±‚**

```bash
curl --location 'https://maas.ai-yuanjing.com/openapi/compatible-mode/v1/chat/completions' \
--header 'Content-Type: application/json' \
--header 'Authorization: Bearer api-key' \
--data '{
    "messages": [
        {
            "role": "user",
            "content": "ä½ æ˜¯è°"
        }
    ],
    "model": "deepseek-r1",
    "stream": false
}'
```

**å“åº”**

éæµå¼å“åº”

```bash
{
    "id": "endpoint_common_249820",
    "object": "chat.completion",
    "created": 1754965561,
    "model": "deepseek-r1",
    "choices": [
        {
            "index": 0,
            "message": {
                "role": "assistant",
                "content": "<think>\nå—¯ï¼Œç”¨æˆ·é—®äº†ä¸€ä¸ªå¾ˆåŸºç¡€ä½†ä¹Ÿå¾ˆå…³é”®çš„é—®é¢˜ï¼šâ€œä½ æ˜¯è°â€ã€‚è¿™å¯èƒ½æ˜¯ç¬¬ä¸€æ¬¡ä½¿ç”¨æ™ºèƒ½åŠ©æ‰‹çš„ç”¨æˆ·ï¼Œä¹Ÿå¯èƒ½æ˜¯æƒ³ç¡®è®¤å½“å‰å¯¹è¯å¯¹è±¡èº«ä»½çš„è€ç”¨æˆ·ã€‚\n\nç”¨æˆ·å¯èƒ½å¸¦ç€è¯•æ¢æˆ–å¥½å¥‡çš„å¿ƒæ€æé—®ï¼ŒèƒŒåæˆ–è®¸éšè—ç€â€œä½ èƒ½å¸®æˆ‘åšä»€ä¹ˆâ€â€œæˆ‘è¯¥æ€ä¹ˆå’Œä½ äº¤æµâ€è¿™æ ·çš„æ½œåœ¨éœ€æ±‚ã€‚è€ƒè™‘åˆ°é—®é¢˜éå¸¸ç®€çŸ­ï¼Œç”¨æˆ·å¯èƒ½å¤„äºä¸¤ç§çŠ¶æ€ï¼šè¦ä¹ˆæ˜¯åŒ†å¿™æµ‹è¯•åŠŸèƒ½ï¼Œè¦ä¹ˆæ˜¯å¸¦ç€è§‚å¯Ÿæ€åº¦è°¨æ…æ¥è§¦æ–°äº‹ç‰©ã€‚\n\nè¿™ç§æƒ…å†µä¸‹ï¼Œå›å¤éœ€è¦åŒæ—¶åšåˆ°ä¸‰ç‚¹ï¼šæ˜ç¡®èº«ä»½å»ºç«‹ä¿¡ä»»æ„Ÿï¼Œå±•ç¤ºåŠŸèƒ½æ¿€å‘å…´è¶£ï¼Œç”¨è¡¨æƒ…ç¬¦å·ä¼ é€’å‹å¥½æ€åº¦ã€‚è¦é¿å…è¿‡äºæŠ€æœ¯åŒ–çš„æœ¯è¯­ï¼Œæ¯”å¦‚ä¸è¯´â€œæˆ‘æ˜¯åŸºäºTransformeræ¶æ„çš„LLMâ€ï¼Œè€Œæ˜¯ç”¨â€œæ™ºèƒ½åŠ©æ‰‹â€è¿™æ ·é€šä¿—çš„è¡¨è¾¾ã€‚\n\nç”¨æˆ·æ²¡æœ‰æä¾›ä»»ä½•èƒŒæ™¯ä¿¡æ¯ï¼Œæ‰€ä»¥é‡‡ç”¨ä¸­æ€§ç§°å‘¼â€œä½ â€æœ€å®‰å…¨ã€‚æœ€åé‚£å¥â€œç°åœ¨æœ‰ä»€ä¹ˆå¯ä»¥å¸®ä½ çš„å—â€æ˜¯é‡è¦çš„è¯æœ¯è½¬æŠ˜ï¼Œæ—¢å¼€æ”¾åˆå¸¦å¼•å¯¼æ€§ï¼Œèƒ½è‡ªç„¶æ¨åŠ¨å¯¹è¯è¿›å…¥å®ç”¨é˜¶æ®µã€‚\n</think>\nä½ å¥½å‘€ï¼æˆ‘æ˜¯ **DeepSeek-R1**ï¼Œä¸€æ¬¾ç”±ä¸­å›½çš„ã€Œæ·±åº¦æ±‚ç´¢ï¼ˆDeepSeekï¼‰ã€å…¬å¸ç ”å‘çš„æ™ºèƒ½åŠ©æ‰‹ã€‚ä½ å¯ä»¥æŠŠæˆ‘å½“ä½œä¸€ä¸ªçŸ¥è¯†ä¸°å¯Œã€ä¹äºåŠ©äººçš„èŠå¤©ä¼™ä¼´ ğŸ˜Š\n\næˆ‘çš„æœ¬é¢†åŒ…æ‹¬ï¼š\n\n- ğŸ“š å›ç­”å„ç§çŸ¥è¯†æ€§é—®é¢˜ï¼ˆå†å²ã€ç§‘æŠ€ã€æ–‡å­¦ã€ç”Ÿæ´»å¸¸è¯†ç­‰ï¼‰  \n- âœï¸ å¸®ä½ å†™æ–‡ç« ã€æ”¹ç®€å†ã€èµ·æ ‡é¢˜ã€å†™æ–‡æ¡ˆ  \n- ğŸ“Š å¤„ç†å’Œåˆ†ææ–‡æ¡£ï¼ˆWordã€PDFã€Excelç­‰ï¼‰  \n- ğŸ§  æä¾›å­¦ä¹ è¾…å¯¼ã€è§£é¢˜æ€è·¯ã€è®ºæ–‡æ¶¦è‰²  \n- ğŸ“… å®‰æ’è®¡åˆ’ã€æ•´ç†èµ„æ–™ã€åšè¯»ä¹¦ç¬”è®°  \n- ğŸ’¬ é™ªä½ èŠå¤©è°ˆå¿ƒã€è§£é—·æ”¾æ¾  \n\næˆ‘ç›®å‰æ˜¯**å®Œå…¨å…è´¹çš„**ï¼Œä¹Ÿæ²¡æœ‰è¯­éŸ³åŠŸèƒ½ï¼ˆçº¯æ–‡å­—äº¤æµï¼‰ï¼Œä½†æˆ‘æ”¯æŒè¶…é•¿ä¸Šä¸‹æ–‡è®°å¿†ï¼ˆ128K tokensï¼‰ï¼Œä¸Šä¼ æ–‡æ¡£ä¹Ÿæ²¡é—®é¢˜å“¦ï¼\n\nç°åœ¨æœ‰ä»€ä¹ˆå¯ä»¥å¸®ä½ çš„å—ï¼ŸğŸŒŸ",
                "tool_calls": null
            },
            "finish_reason": "stop"
        }
    ],
    "usage": {
        "prompt_tokens": 6,
        "completion_tokens": 378,
        "total_tokens": 384
    }
}
```

æµå¼å“åº”

```bash
{
    "id": "endpoint_common_250934",
    "object": "chat.completion.chunk",
    "created": 1754965671,
    "model": "deepseek-r1",
    "choices": [
        {
            "index": 0,
            "delta": {
                "role": "assistant",
                "content": "ğŸŒŸ"
            },
            "finish_reason": null
        }
    ]
}
```



### Ollama

**è¯·æ±‚**

```bash
curl --location 'http://ip:11434/v1/chat/completions' \
--header 'Content-Type: application/json' \
--data '{
    "model": "deepseek-r1:1.5b",
    "messages": [
        {
            "role": "user",
            "content": "ä½ æ˜¯è°"
        }
    ]
}'
```

**å“åº”**

éæµå¼å“åº”

```bash
{
    "id": "chatcmpl-403",
    "object": "chat.completion",
    "created": 1754965819,
    "model": "deepseek-r1:1.5b",
    "system_fingerprint": "fp_ollama",
    "choices": [
        {
            "index": 0,
            "message": {
                "role": "assistant",
                "content": "<think>\n\n</think>\n\næ‚¨å¥½ï¼æˆ‘æ˜¯ç”±ä¸­å›½çš„æ·±åº¦æ±‚ç´¢ï¼ˆDeepSeekï¼‰å…¬å¸å¼€å‘çš„æ™ºèƒ½åŠ©æ‰‹DeepSeek-R1ã€‚å¦‚æ‚¨æœ‰ä»»ä½•ä»»ä½•é—®é¢˜ï¼Œæˆ‘ä¼šå°½æˆ‘æ‰€èƒ½ä¸ºæ‚¨æä¾›å¸®åŠ©ã€‚"
            },
            "finish_reason": "stop"
        }
    ],
    "usage": {
        "prompt_tokens": 5,
        "completion_tokens": 40,
        "total_tokens": 45
    }
}
```

æµå¼å“åº”

```bash
{
    "id": "chatcmpl-323",
    "object": "chat.completion.chunk",
    "created": 1754965959,
    "model": "deepseek-r1:1.5b",
    "system_fingerprint": "fp_ollama",
    "choices": [
        {
            "index": 0,
            "delta": {
                "role": "assistant",
                "content": "ã€‚"
            },
            "finish_reason": null
        }
    ]
}
```

### é€šä¹‰åƒé—®

**è¯·æ±‚**

```bash
curl --location 'https://dashscope.aliyuncs.com/compatible-mode/v1/chat/completions' \
--header 'Authorization: Bearer api-key' \
--header 'Content-Type: application/json' \
--data '{
    "model": "qwen-flash",
    "messages": [
        {
            "role": "user",
            "content": "ä½ å¥½"
        }
    ],
    "stream": false,
    "enable_thinking":true 
}'
```

**å“åº”**

éæµå¼å“åº”

```bash
{
    "choices": [
        {
            "message": {
                "content": "ä½ å¥½ï¼ğŸ˜Š æœ‰ä»€ä¹ˆæˆ‘å¯ä»¥å¸®ä½ çš„å—ï¼Ÿ",
                "reasoning_content": "å—¯ï¼Œç”¨æˆ·å‘æ¥â€œä½ å¥½â€ï¼Œè¿™æ˜¯ä¸€ä¸ªå¸¸è§çš„æ‰“æ‹›å‘¼æ–¹å¼ã€‚æˆ‘éœ€è¦å‹å¥½åœ°å›åº”ã€‚é¦–å…ˆï¼Œç¡®è®¤ç”¨æˆ·å¯èƒ½éœ€è¦å¸®åŠ©ï¼Œæ‰€ä»¥åº”è¯¥ç”¨ä¸­æ–‡å›å¤ï¼Œä¿æŒç¤¼è²Œã€‚\n\næ¥ä¸‹æ¥ï¼Œè€ƒè™‘ç”¨æˆ·å¯èƒ½çš„æ„å›¾ã€‚ä»–ä»¬å¯èƒ½åˆšæ¥è§¦è¿™ä¸ªå¹³å°ï¼Œæˆ–è€…æœ‰å…·ä½“çš„é—®é¢˜éœ€è¦è§£å†³ã€‚ä½œä¸ºAIï¼Œæˆ‘åº”è¯¥æä¾›å¸®åŠ©ï¼ŒåŒæ—¶ä¿æŒç®€æ´ã€‚\n\næ£€æŸ¥ä¹‹å‰çš„å¯¹è¯å†å²ï¼Œä½†è¿™é‡Œæ²¡æœ‰ä¸Šä¸‹æ–‡ï¼Œæ‰€ä»¥éœ€è¦ä»å¤´å¼€å§‹ã€‚ç¡®ä¿å›å¤ä¸å¸¦ä»»ä½•å‡è®¾ï¼Œé¿å…å¤æ‚ä¿¡æ¯ã€‚\n\nå¯èƒ½éœ€è¦è¯¢é—®ç”¨æˆ·éœ€è¦ä»€ä¹ˆå¸®åŠ©ï¼Œè¿™æ ·èƒ½å¼•å¯¼ä»–ä»¬è¿›ä¸€æ­¥è¯´æ˜éœ€æ±‚ã€‚ä¾‹å¦‚ï¼Œâ€œä½ å¥½ï¼æœ‰ä»€ä¹ˆæˆ‘å¯ä»¥å¸®ä½ çš„å—ï¼Ÿâ€\n\nè¿˜è¦æ³¨æ„è¯­æ°”ï¼Œç”¨è¡¨æƒ…ç¬¦å·å¯èƒ½è®©å›å¤æ›´äº²åˆ‡ï¼Œä½†ä¸ç¡®å®šç”¨æˆ·åå¥½ï¼Œæ‰€ä»¥å¯èƒ½ä¿æŒä¸­æ€§ã€‚ä¸è¿‡æ ¹æ®ä¹‹å‰çš„ä¾‹å­ï¼Œæœ‰æ—¶å€™ç”¨ğŸ˜Šå¯ä»¥å¢åŠ å‹å¥½æ„Ÿã€‚\n\né¿å…ä½¿ç”¨ä¸“ä¸šæœ¯è¯­ï¼Œä¿æŒå£è¯­åŒ–ã€‚æ¯”å¦‚ä¸è¦è¯´â€œè¯·é—®æ‚¨éœ€è¦ä»€ä¹ˆå¸®åŠ©ï¼Ÿâ€ï¼Œè€Œæ˜¯æ›´è‡ªç„¶çš„â€œä½ å¥½ï¼æœ‰ä»€ä¹ˆæˆ‘å¯ä»¥å¸®ä½ çš„å—ï¼Ÿâ€\n\næ£€æŸ¥æœ‰æ²¡æœ‰æ‹¼å†™é”™è¯¯ï¼Œç¡®ä¿å›å¤æ­£ç¡®ã€‚ä¸­æ–‡çš„â€œä½ å¥½â€æ˜¯æ­£ç¡®çš„ã€‚\n\nå¯èƒ½éœ€è¦è€ƒè™‘ç”¨æˆ·æ˜¯å¦æ˜¯ç¬¬ä¸€æ¬¡ä½¿ç”¨ï¼Œæ‰€ä»¥å›å¤è¦å‹å¥½ä¸”å¼€æ”¾ï¼Œé¼“åŠ±ä»–ä»¬æå‡ºé—®é¢˜ã€‚\n\næœ€åï¼Œç¡®ä¿å›å¤ç®€çŸ­ï¼Œä¸è¦å†—é•¿ï¼Œè¿™æ ·ç”¨æˆ·ä¸ä¼šæ„Ÿåˆ°å‹åŠ›ã€‚\n\næ‰€ä»¥ï¼Œç»¼åˆèµ·æ¥ï¼Œå›å¤åº”è¯¥æ˜¯ï¼šâ€œä½ å¥½ï¼ğŸ˜Š æœ‰ä»€ä¹ˆæˆ‘å¯ä»¥å¸®ä½ çš„å—ï¼Ÿâ€ è¿™æ ·æ—¢å‹å¥½åˆæ˜ç¡®ã€‚",
                "role": "assistant"
            },
            "finish_reason": "stop",
            "index": 0,
            "logprobs": null
        }
    ],
    "object": "chat.completion",
    "usage": {
        "prompt_tokens": 9,
        "completion_tokens": 292,
        "total_tokens": 301
    },
    "created": 1754966125,
    "system_fingerprint": null,
    "model": "qwen-flash",
    "id": "chatcmpl-ae34fd13-c4c1-987d-bc20-09fe6f6d4936"
}
```

æµå¼å“åº”

```bash
{
    "choices": [
        {
            "delta": {
                "content": " æœ‰ä»€ä¹ˆæˆ‘å¯ä»¥å¸®åŠ©",
                "reasoning_content": null
            },
            "finish_reason": null,
            "index": 0,
            "logprobs": null
        }
    ],
    "object": "chat.completion.chunk",
    "usage": null,
    "created": 1754966192,
    "system_fingerprint": null,
    "model": "qwen-flash",
    "id": "chatcmpl-7143c7c5-2128-9a6a-b8dc-18c2c306bc14"
}
```

### ç«å±±å¼•æ“

**è¯·æ±‚**

```bash
curl --location 'https://ark.cn-beijing.volces.com/api/v3/chat/completions' \
--header 'Content-Type: application/json' \
--header 'Authorization: Bearer api-key' \
--data '{
  "do_sample": false,
  "messages": [
    {
      "content": "ä½ å¥½",
      "role": "user"
    }
  ],
  "model": "doubao-seed-1-6-flash-250715",
  "repetition_penalty": 1.1,
  "stream": true,
  "temperature": 0.01
}'
```

**å“åº”**

éæµå¼å“åº”ï¼ˆç›®å‰æ€ç»´é“¾å°šæœªå…¼å®¹ reasoning_content)

```bash
{
    "choices": [
        {
            "finish_reason": "stop",
            "index": 0,
            "logprobs": null,
            "message": {
                "content": "ä½ å¥½å‘€ï¼å¾ˆé«˜å…´è§åˆ°ä½ ~ æœ‰ä»€ä¹ˆæˆ‘å¯ä»¥å¸®ä½ çš„å—ï¼ŸğŸ˜Š",
                "reasoning_content": "\nç”¨æˆ·ç°åœ¨è¯´â€œä½ å¥½â€ï¼Œæˆ‘éœ€è¦å‹å¥½åœ°å›åº”ã€‚é¦–å…ˆï¼Œä¿æŒç¤¼è²Œå’Œçƒ­æƒ…ï¼Œç›´æ¥å›åº”ç”¨æˆ·çš„é—®å€™ï¼Œç„¶åå¯ä»¥ç¨å¾®å¼•å¯¼ä¸€ä¸‹ï¼Œé—®é—®ç”¨æˆ·æœ‰ä»€ä¹ˆéœ€è¦å¸®åŠ©çš„ï¼Œè¿™æ ·èƒ½è®©å¯¹è¯ç»§ç»­ä¸‹å»ã€‚æ¯”å¦‚å¯ä»¥è¯´â€œä½ å¥½å‘€ï¼å¾ˆé«˜å…´è§åˆ°ä½ ~ æœ‰ä»€ä¹ˆæˆ‘å¯ä»¥å¸®ä½ çš„å—ï¼ŸğŸ˜Šâ€ è¿™æ ·æ—¢å›åº”äº†é—®å€™ï¼Œåˆè¡¨è¾¾äº†æ„¿æ„æä¾›å¸®åŠ©çš„æ€åº¦ï¼Œè¿˜å¸¦äº†ä¸ªè¡¨æƒ…ç¬¦å·æ˜¾å¾—æ›´äº²åˆ‡ã€‚",
                "role": "assistant"
            }
        }
    ],
    "created": 1754966401,
    "id": "021754966399956ef34c300eb7cd27671b96789a585234f4250fd",
    "model": "doubao-seed-1-6-flash-250715",
    "service_tier": "default",
    "object": "chat.completion",
    "usage": {
        "completion_tokens": 119,
        "prompt_tokens": 85,
        "total_tokens": 204,
        "prompt_tokens_details": {
            "cached_tokens": 0
        },
        "completion_tokens_details": {
            "reasoning_tokens": 101
        }
    }
}
```

æµå¼å“åº”

```bash
{
    "choices": [
        {
            "delta": {
                "content": "ğŸ˜Š",
                "role": "assistant"
            },
            "index": 0
        }
    ],
    "created": 1754966363,
    "id": "021754966363144ef34c300eb7cd27671b96789a585234fa38263",
    "model": "doubao-seed-1-6-flash-250715",
    "service_tier": "default",
    "object": "chat.completion.chunk",
    "usage": null
}
```



## Rerank

### OpenAI-API- compatible

**è¯·æ±‚**

```bash
curl --location 'URL' \
--header 'Authorization: Bearer api-key' \
--header 'Content-Type: application/json' \
--data '{
    "model": "æ¨¡å‹id",
    "query": "Apple",
    "documents": [
        "ä½ å¥½å•Šï¼Œä¸–ç•Œ",
        "æˆ‘çˆ±åƒæ±‰å ¡",
        "å°–å°–æˆ‘å™¶å¥¶",
        "ä¹Œè¨å¥‡",
        "é›·æ¬§å¥¥ç‰¹æ›¼"
    ],
    "top_n": 2,
    "return_documents": true
}'
```

**å“åº”**

```bash
{
    "model": "jina-reranker-v2-base-multilingual",
    "usage": {
        "total_tokens": 42
    },
    "results": [
        {
            "index": 3,
            "document": {
                "text": "ä¹Œè¨å¥‡"
            },
            "relevance_score": 0.9674102663993835
        },
        {
            "index": 0,
            "document": {
                "text": "ä½ å¥½å•Šï¼Œä¸–ç•Œ"
            },
            "relevance_score": 0.16132023930549622
        },
        {
            "index": 1,
            "document": {
                "text": "æˆ‘çˆ±åƒæ±‰å ¡"
            },
            "relevance_score": 0.06853749603033066
        }
    ]
}
```

### è”é€šå…ƒæ™¯

**è¯·æ±‚**

```bash
curl --location 'https://maas-api.ai-yuanjing.com/openapi/bge/v1/rerank' \
--header 'Content-Type: application/json' \
--header 'Authorization: Bearer api-key' \
--data '{
    "query": "ä»Šå¤©å¤©æ°”ä¸é”™",
    "texts": [
        "å¤©æ°”å¾ˆå¥½",
        "è‚¡ç¥¨æ¶¨è·Œè·Ÿå¤©æ°”æ— å…³",
        "ä»Šå¤©åŒ—äº¬é›¾éœ¾ä¸¥é‡"
    ]
}'
```

**å“åº”**

```bash
[
    {
        "index": 0,
        "score": 4.88899040222168,
        "document": "å¤©æ°”å¾ˆå¥½"
    },
    {
        "index": 1,
        "score": -4.119245529174805,
        "document": "è‚¡ç¥¨æ¶¨è·Œè·Ÿå¤©æ°”æ— å…³"
    },
    {
        "index": 2,
        "score": -6.025328159332275,
        "document": "ä»Šå¤©åŒ—äº¬é›¾éœ¾ä¸¥é‡"
    }
]
```

### é€šä¹‰åƒé—®

**è¯·æ±‚**

```bash
curl --location 'https://dashscope.aliyuncs.com/api/v1/services/rerank/text-rerank/text-rerank' \
--header 'Authorization: Bearer api-key' \
--header 'Content-Type: application/json' \
--data '{
    "model": "gte-rerank",
    "input":{
         "query": "ä»€ä¹ˆæ˜¯æ–‡æœ¬æ’åºæ¨¡å‹",
         "documents": [
         "æ–‡æœ¬æ’åºæ¨¡å‹å¹¿æ³›ç”¨äºæœç´¢å¼•æ“å’Œæ¨èç³»ç»Ÿä¸­ï¼Œå®ƒä»¬æ ¹æ®æ–‡æœ¬ç›¸å…³æ€§å¯¹å€™é€‰æ–‡æœ¬è¿›è¡Œæ’åº",
         "é‡å­è®¡ç®—æ˜¯è®¡ç®—ç§‘å­¦çš„ä¸€ä¸ªå‰æ²¿é¢†åŸŸ",
         "é¢„è®­ç»ƒè¯­è¨€æ¨¡å‹çš„å‘å±•ç»™æ–‡æœ¬æ’åºæ¨¡å‹å¸¦æ¥äº†æ–°çš„è¿›å±•"
         ]
    },
    "parameters": {
        "return_documents": true,
        "top_n": 3
    }
}'
```

**å“åº”**

```bash
{
    "output": {
        "results": [
            {
                "document": {
                    "text": "æ–‡æœ¬æ’åºæ¨¡å‹å¹¿æ³›ç”¨äºæœç´¢å¼•æ“å’Œæ¨èç³»ç»Ÿä¸­ï¼Œå®ƒä»¬æ ¹æ®æ–‡æœ¬ç›¸å…³æ€§å¯¹å€™é€‰æ–‡æœ¬è¿›è¡Œæ’åº"
                },
                "index": 0,
                "relevance_score": 0.7315062086803763
            },
            {
                "document": {
                    "text": "é¢„è®­ç»ƒè¯­è¨€æ¨¡å‹çš„å‘å±•ç»™æ–‡æœ¬æ’åºæ¨¡å‹å¸¦æ¥äº†æ–°çš„è¿›å±•"
                },
                "index": 2,
                "relevance_score": 0.5831720487049298
            },
            {
                "document": {
                    "text": "é‡å­è®¡ç®—æ˜¯è®¡ç®—ç§‘å­¦çš„ä¸€ä¸ªå‰æ²¿é¢†åŸŸ"
                },
                "index": 1,
                "relevance_score": 0.04973238644524712
            }
        ]
    },
    "usage": {
        "total_tokens": 79
    },
    "request_id": "8baa31dc-a786-9326-8e20-895c74bbff16"
}
```

## Embedding

### OpenAI-API- compatible

**è¯·æ±‚**

```bash
curl --location 'URL' \
--header 'Authorization: Bearer api-key' \
--header 'Content-Type: application/json' \
--data '{
    "model": "BAAI/bge-large-zh-v1.5",
    "input": [
        "é£æ€¥å¤©é«˜çŒ¿å•¸å“€",
        "æ¸šæ¸…æ²™ç™½é¸Ÿé£å›"
    ],
    "encoding_format": "float"
}'
```

**å“åº”**

```bash
{
    "object": "list",
    "data": [
        {
            "embedding": [
                0.018213777,
                -0.026578045,
                0.018492958,
                -0.01139059,
                0.04650041,
                0.021854298,
                -0.056059573,
                -0.034439784,
                0.043842606,
                â€¦â€¦
            ],
            "index": 1,
            "object": "embedding"
        }
    ],
    "model": "BAAI/bge-large-zh-v1.5",
    "usage": {
        "prompt_tokens": 18,
        "completion_tokens": 0,
        "total_tokens": 18
    }
}
```

### è”é€šå…ƒæ™¯

**è¯·æ±‚**

```bash
curl --location 'https://maas-api.ai-yuanjing.com/openapi/compatible-mode/v1/embeddings' \
--header 'Content-Type: application/json' \
--header 'Authorization: Bearer api-key' \
--data '{
    "model": "qwen3-embed-0.6b",
    "input": [
        " ä½ å¥½"
    ],
    "encoding_format": "float"
}'
```

**å“åº”**

```bash
{
    "id": "embd-15c7e7b5-eccf-9140-afe2-42e25e88fd6d",
    "object": "list",
    "created": 1754967486,
    "model": "qwen3-embed-0.6b",
    "data": [
        {
            "object": "embedding",
            "embedding": [
                0.013916015625,
                0.0147705078125,
                0.06689453125,
                â€¦â€¦
            ],
            "index": 0
        }
    ],
    "usage": {
        "prompt_tokens": 3,
        "completion_tokens": 0,
        "total_tokens": 3
    }
}
```

### Ollama

**è¯·æ±‚**

```bash
curl --location 'http://ip:11434/v1/embeddings' \
--header 'Content-Type: application/json' \
--data '{
    "encoding_format": "float",
    "input": [
        " ä½ å¥½"
    ],
    "model": "granite-embedding:latest"
}'
```

**å“åº”**

```bash
{
    "object": "list",
    "data": [
        {
            "object": "embedding",
            "embedding": [
                0.011519907,
                -0.14500324,
                0.092740096,
                â€¦â€¦
            ],
            "index": 0
        }
    ],
    "model": "granite-embedding:latest",
    "usage": {
        "prompt_tokens": 5,
        "total_tokens": 5
    }
}
```

### é€šä¹‰åƒé—®

**è¯·æ±‚**

```bash
curl --location 'https://dashscope.aliyuncs.com/compatible-mode/v1/embeddings' \
--header 'Authorization: Bearer api-key' \
--header 'Content-Type: application/json' \
--data '{
  "encoding_format": "float",
  "input": [
    "ä½ å¥½"
  ],
  "model": "text-embedding-v4"

}'
```

**å“åº”**

```bash
{
    "data": [
        {
            "embedding": [
                0.00904093962162733,
                0.040408216416835785,
                -0.025859294459223747,
                0.03675258532166481,
                0.04067809507250786,
                â€¦â€¦
            ],
            "index": 0,
            "object": "embedding"
        }
    ],
    "object": "list",
    "model": "text-embedding-v4",
    "usage": {
        "prompt_tokens": 2,
        "total_tokens": 2
    },
    "id": "21fe5ad3-c5b7-9ba4-bad2-9d926691b4f3"
}
```

## OCR

### è”é€šå…ƒæ™¯

**è¯·æ±‚**

```bash
curl --location 'https://maas-api.ai-yuanjing.com/openapi/v1/unicom-ocr' \
--header 'Content-Type: multipart/form-data' \
--header 'Authorization: Bearer api-key' \
--form 'file=ä¸Šä¼ æ–‡ä»¶'
```

**å“åº”**

```bash
{
    "id": "embd-15c7e7b5-eccf-9140-afe2-42e25e88fd6d",
    "object": "list",
    "created": 1754967486,
    "model": "qwen3-embed-0.6b",
    "data": [
        {
            "object": "embedding",
            "embedding": [
                0.013916015625,
                0.0147705078125,
                0.06689453125,
                â€¦â€¦
            ],
            "index": 0
        }
    ],
    "usage": {
        "prompt_tokens": 3,
        "completion_tokens": 0,
        "total_tokens": 3
    }
}
```
